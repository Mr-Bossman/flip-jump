stl.startup


// Prints "ABCDEFGH-" and then 0/1, the invert of x4
test4:
    stl.output 'A'
    bit.push x4
    stl.output 'B'

    bit.call func4

    stl.output 'G'
    bit.pop_res x4
    stl.output 'H'
    bit.bin2ascii ascii, x4
    stl.output '-'
    bit.print ascii

    stl.output '\n'
    stl.loop

func4:
    stl.output 'C'
    bit.get_sp __func4_arg_ptr
    stl.output 'D'
    bit.dec_ptr __func4_arg_ptr
    stl.output 'E'
    bit.ptr_flip_dbit __func4_arg_ptr
    stl.output 'F'
    bit.return
  __func4_arg_ptr:
    bit.vec w, 0



x4:
    bit.bit 0

ascii:
    bit.vec 8

bit.ptr_init
bit.stack 10
